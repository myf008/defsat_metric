<div ng-controller="ShowRelationCtrl">
	<div class="widget-box transparent invoice-box">
	    <div class="widget-header">
        	<h3>业务标识: {{relation.appId}}</h3>
    	</div>
    	<div class="widget-main no-padding">
    	    <div class="col-xs-12 text-center" ng-show="isLoading">
	        	<div id="loading" class="loading" style="color: #000000;width: auto">loading</div>
	    	</div>
			<div class="col-xs-12">
		    	<alert ng-show="data.isShow" type="data.type" close="closeAlert()">{{data.msg}}</alert>
			</div>
			
			<div class="container-fluid" style="padding-top: 20px;padding-left:100px">
				<form name="relationform" class="form-horizontal">
				
					<div class="form-group">            
						<label for="influxdbId" class="col-sm-3 control-label no-padding-right">Influxdb</label>
						
			            <div class="col-sm-7">
			                <select name="influxdbId" class="form-control" ng-model="relation.influxdbId" ng-options="item for item in influxdbs"/>
			            </div>
			        </div>
					<div class="form-group">
			            <label for="dbName" class="col-sm-3 control-label no-padding-right">数据库名</label>
			            <div class="col-sm-7">
			               <input type="text" name="dbName" class="form-control" ng-model="relation.dbName" required/>
			               <div class="error" ng-show="relationform.dbName.$dirty && relationform.dbName.$invalid">
								<div class="error" style="color:red; ng-show="relationform.dbName.$error.required">
									dbName不能为空
								</div> 
						   </div>
			            </div>
			        </div>	
					<div class="form-group">
			            <label for="retention" class="col-sm-3 control-label no-padding-right">保留策略</label>
			            <div class="col-sm-7">
			               <input type="text" name="retention" class="form-control" ng-model="relation.retention" required/>
			            	<div class="error" ng-show="relationform.retention.$dirty && relationform.retention.$invalid">
								<div class="error" style="color:red; ng-show="relationform.retention.$error.required">
									retention不能为空
								</div> 
							</div>
			            </div>
			        </div>	
					
					<div class="col-sm-11" >
				  		<div class="form-actions center">
							<button class="btn btn-info" type="button" ng-click="updateRelation(relation)">
								<i class="icon-ok bigger-110"></i>
														更新
							</button>
		
								&nbsp; &nbsp; &nbsp;
							<button class="btn" type="reset" ng-click="closeRelation()">
								<i class="icon-undo bigger-110"></i>
														关闭
							</button>
						</div>
	        		</div>
				</form>
			</div>
			
    	</div>
	</div>
</div>